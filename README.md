# sre-mindbox-test üöÄ

—Ä–µ—à–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –¥–ª—è Mindbox –Ω–∞ –ø–æ–∑–∏—Ü–∏—é SRE. —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç yaml-–º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –¥–ª—è –¥–µ–ø–ª–æ—è –ø—Ä–æ—Å—Ç–æ–≥–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ kubernetes –∏ dockerfile –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑–∞

## –≤–≤–æ–¥–Ω—ã–µ üìù

- –º—É–ª—å—Ç–∏–∑–æ–Ω–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä: 3 –∑–æ–Ω—ã, 5 –Ω–æ–¥  
- –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç –∑–∞ 5-10 —Å–µ–∫—É–Ω–¥  
- –ø–æ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–º—É —Ç–µ—Å—Ç—É 4 –ø–æ–¥–∞ —Å–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å –ø–∏–∫–æ–º  
- –Ω–∞ –ø–µ—Ä–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É–µ—Ç—Å—è –±–æ–ª—å—à–µ CPU, –¥–∞–ª–µ–µ ~0.1 CPU  
- –ø–∞–º—è—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ 128M  
- –¥–Ω–µ–≤–Ω–æ–π —Ü–∏–∫–ª –Ω–∞–≥—Ä—É–∑–∫–∏: –Ω–æ—á—å—é –ø–æ—á—Ç–∏ –Ω–µ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤, –ø–∏–∫ - –¥–Ω—ë–º  
- –Ω—É–∂–µ–Ω –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã–π –¥–µ–ø–ª–æ–π —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤

## —á—Ç–æ –≤–Ω—É—Ç—Ä–∏ üìÇ

- `Dockerfile` - nginx-–æ–±—Ä–∞–∑ –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –¥–µ–ø–ª–æ—è  
- `deployment.yaml` - deployment —Å —Ä–µ—Å—É—Ä—Å–∞–º–∏, probes –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –ø–æ –∑–æ–Ω–∞–º  
- `hpa.yaml` - HorizontalPodAutoscaler –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ cpu 
- `pdb.yaml` - PodDisruptionBudget –¥–ª—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏  
- `service.yaml` - ClusterIP —Å–µ—Ä–≤–∏—Å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

## –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ‚ö°Ô∏è

- —Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ —á–µ—Ä–µ–∑ docker  
- –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –≤ k8s (`kubectl apply -f deployment.yaml`, –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ)  
- –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ HPA –∏ PDB —Ä–∞–±–æ—Ç–∞—é—Ç, –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ service

## —Ä–µ—à–µ–Ω–∏–µ üí°

–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ yaml –æ–±—ä—è—Å–Ω—è—é—Ç, –ø–æ—á–µ–º—É –≤—ã–±—Ä–∞–Ω—ã –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤, probes –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–¥–æ–≤
